[[test]]
testTitle = 'Team Partitioned TLog Server Test 1'
useDB = false
startDelay = 0

    [[test.workload]]
    testName = 'UnitTests'
    maxTestCases = 1
    testsMatching = '/fdbserver/ptxn/test/run_tlog_server'

    numProxies = 3
    numTLogs = 4
    numStorageTeams = 55
    numTLogGroups = 8
    skipCommitValidation = 1
    numCommits = 20

[[test]]
testTitle = 'Team Partitioned TLog Server Test 2'
useDB = false
startDelay = 0

    [[test.workload]]
    testName = 'UnitTests'
    maxTestCases = 1
    testsMatching = '/fdbserver/ptxn/test/run_tlog_server'

    numProxies = 3
    numTLogs = 2
    numStorageTeams = 40
    numTLogGroups = 7
    skipCommitValidation = 1
    numCommits = 100

[[test]]
testTitle = 'Team Partitioned TLog Server Test 3: Commit and Peek'
useDB = false
startDelay = 0

    [[test.workload]]
    testName = 'UnitTests'
    maxTestCases = 1
    testsMatching = '/fdbserver/ptxn/test/peek_tlog_server'

    numProxies = 5
    numTLogs = 2
    numStorageTeams = 40
    numTLogGroups = 7
    skipCommitValidation = 1
    numCommits = 50

[[test]]
testTitle = 'Team Partitioned TLog Server Test 4: Multiple Commit and Peek'
useDB = false
startDelay = 0

    [[test.workload]]
    testName = 'UnitTests'
    maxTestCases = 1
    testsMatching = '/fdbserver/ptxn/test/commit_peek'

    numTLogs = 1
    numStorageTeams = 40
    numTLogGroups = 7
    numCommits = 50

[[test]]
testTitle = 'Team Partitioned TLog Server Test 5: Run storage server'
useDB = false
startDelay = 0

    [[test.workload]]
    testName = 'UnitTests'
    maxTestCases = 1
    testsMatching = '/fdbserver/ptxn/test/run_storage_server'

    numProxies = 1
    numTLogs = 1
    numStorageTeams = 1
    numStorageServers = 1
    numTLogGroups = 1
    skipCommitValidation = 1
    numCommits = 50
    messageTransferModel = 1

[[test]]
testTitle = 'Team Partitioned TLog Server Test 6: Read from persisted disk'
useDB = false
startDelay = 0

    [[test.workload]]
    testName = 'UnitTests'
    maxTestCases = 1
    testsMatching = '/fdbserver/ptxn/test/read_persisted_disk_on_tlog'

    numTLogs = 3
    numStorageTeams = 40
    numTLogGroups = 7
    numCommits = 20

[[test]]
testTitle = 'Team Partitioned TLog Server Test 7: Test locking tlog in partitioned tlog system'
useDB = false
startDelay = 0

    [[test.workload]]
    testName = 'UnitTests'
    maxTestCases = 1
    testsMatching = '/fdbserver/ptxn/test/lock_tlog'

    numTLogs = 3
    numStorageTeams = 40
    numTLogGroups = 7

[[test]]
testTitle = 'Team Partitioned TLog Server Test 8: Single tlog recovers'
useDB = false
startDelay = 0

    [[test.workload]]
    testName = 'UnitTests'
    maxTestCases = 1
    testsMatching = '/fdbserver/ptxn/test/single_tlog_recovery'
    
    numTLogs = 3
    numStorageTeams = 40
    numTLogGroups = 10
    numCommits = 5

[[test]]
testTitle = 'Team Partitioned TLog Server Test 9: Read from TLog spilled data'
useDB = false
startDelay = 0

    [[test.workload]]
    testName = 'UnitTests'
    maxTestCases = 1
    testsMatching = '/fdbserver/ptxn/test/read_tlog_spilled'

    numTLogs = 3
    numStorageTeams = 40
    numTLogGroups = 7
    numCommits = 20

[[test]]
testTitle = 'Team Partitioned TLog Server Test 10: Spilling not happen with default threshold'
useDB = false
startDelay = 0

    [[test.workload]]
    testName = 'UnitTests'
    maxTestCases = 1
    testsMatching = '/fdbserver/ptxn/test/read_tlog_not_spilled_with_default_threshold'

    numTLogs = 3
    numStorageTeams = 40
    numTLogGroups = 7
    numCommits = 10

